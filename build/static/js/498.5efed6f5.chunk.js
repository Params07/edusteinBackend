"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[498,376,638,776,523],{17376:(e,a,t)=>{t.r(a),t.d(a,{default:()=>c});var l=t(65043),s=t(86213),n=t(23894);const c=e=>{const[a,t]=(0,l.useState)(!1);return{downloadExcelFile:async a=>{try{t(!0);const l=await s.A.post("/createExcel",a,{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([l.data])),c=document.createElement("a");c.href=n,c.setAttribute("download",e+".xlsx"),document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(n),t(!1)}catch(l){t(!1),(0,n.y)({success:!1,message:"Error in downloading file"}),console.error("Error downloading file:",l)}},downloading:a}}},80638:(e,a,t)=>{t.r(a),t.d(a,{default:()=>s});t(65043);var l=t(70579);const s=e=>{let{data:a,component:t,action:s}=e;if(!a||0===a.length)return(0,l.jsx)("p",{children:"No data available"});const n=["Action",...Object.keys(a[0])];return(0,l.jsx)("div",{className:"overflow-x-auto m-4",children:(0,l.jsx)("div",{className:"overflow-y-auto h-[500px] no-scrollbar",children:(0,l.jsxs)("table",{className:"min-w-full border border-collapse border-gray-200",children:[(0,l.jsx)("thead",{className:"bg-gray-100 border-b w-full sticky top-0 z-5 h-16",children:(0,l.jsx)("tr",{children:n.map((e=>(0,l.jsx)("th",{className:"py-2 px-4 border-b text-center bg-gray-100",children:"Action"===e?s:e},e)))})}),(0,l.jsx)("tbody",{children:a.map(((e,a)=>(0,l.jsx)("tr",{className:"py-2 px-4 border-b text-center",children:n.map((a=>"Action"===a?(0,l.jsx)("td",{className:"py-2 px-4 border-b text-center",children:t(e)},a):(0,l.jsx)("td",{className:"py-2 px-4 border-b text-center",children:e[a]},a)))},a)))})]})})})}},82776:(e,a,t)=>{t.r(a),t.d(a,{default:()=>n});var l=t(65043),s=t(90523);const n=e=>{const[a,t]=(0,l.useState)(null),n=0!==e?`/bootcamps/bootcamp?id=${e}`:null,{fetchData:c,data:o,loading:d,error:r}=(0,s.default)(n);return(0,l.useEffect)((()=>{n&&c()}),[n,c]),(0,l.useEffect)((()=>{o&&t(o)}),[o]),{bootcampData:a,loading:d,error:r}}},90523:(e,a,t)=>{t.r(a),t.d(a,{default:()=>n});var l=t(65043),s=t(86213);const n=e=>{const[a,t]=(0,l.useState)(!1),[n,c]=(0,l.useState)([]),[o,d]=(0,l.useState)(null),r=(0,l.useCallback)((async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e){t(!0),d(null);try{const t=await s.A.get(e,{params:a,withCredentials:!0});c(t.data)}catch(l){d(l)}finally{t(!1)}}}),[e]);return(0,l.useEffect)((()=>{e&&r()}),[r]),{fetchData:r,data:n,loading:a,error:o}}},60498:(e,a,t)=>{t.r(a),t.d(a,{default:()=>r});var l=t(65043),s=t(81278),n=t(90523),c=(t(82776),t(80638)),o=t(17376),d=t(70579);const r=()=>{const[e,a]=(0,l.useState)([]),[t,r]=(0,l.useState)(!1),[i,u]=(0,l.useState)([]),[p,f]=(0,l.useState)(null),[b,h]=(0,l.useState)(""),{downloadExcelFile:m,downloading:x}=(0,o.default)("transactiondata"),v=[{label:"Completed",value:"completed"},{label:"Refund",value:"refund"}],{data:w}=(0,n.default)("/bootcamps/bootcamp?id=0"),[j,y]=(0,l.useState)(v[0]),g=(0,l.useMemo)((()=>{if(!w)return[];const e=w.map((e=>({label:e.title,value:e.id})));return e.unshift({label:"All",value:"all"}),e}),[w]);(0,l.useEffect)((()=>{u(g),f(g[0])}),[g]);const N=(0,l.useMemo)((()=>`/transaction/${j.value}${"refund"!==j.value?`?bootcamp_id=${(null===p||void 0===p?void 0:p.value)||"all"}`:""}`),[j,p]);(0,l.useEffect)((()=>{N!==b&&h(N)}),[N,b]);const{fetchData:k,data:S}=(0,n.default)(b);(0,l.useEffect)((()=>{if(t&&S){const e=S.map((e=>e.id));a(e)}else a([])}),[t,S]);return(0,d.jsxs)("div",{className:"w-full",children:[(0,d.jsxs)("div",{className:"w-full flex items-center justify-between shadow-md py-6 px-4 h-24 mb-6",children:[(0,d.jsx)("p",{className:"text-xl font-bold",children:"Transaction Data"}),(0,d.jsxs)("div",{className:"flex space-x-4",children:[(0,d.jsx)(s.Ay,{className:"w-64",name:"transactionStatus",value:j,options:v,required:!0,placeholder:"Select Status",onChange:e=>y(e)}),(0,d.jsx)(s.Ay,{className:"w-64",name:"bootcamp",value:p,options:i,required:!0,isDisabled:"refund"===j.value,placeholder:"Bootcamp Option",onChange:e=>f(e)})]})]}),(0,d.jsx)("div",{className:"pl-5 pb-3",children:0!==e.length&&(0,d.jsx)("div",{className:"flex space-x-4",children:(0,d.jsx)("button",{className:"py-2 text-white bg-black px-5 rounded-xl",onClick:()=>{(()=>{const a=S.filter((a=>e.includes(a.id))).map((e=>e));m(a)})()},children:"Download"})})}),(0,d.jsx)(c.default,{data:S,component:t=>(0,d.jsx)("input",{type:"checkbox",checked:e.includes(t.id),onChange:()=>{return e=t.id,void a((a=>a.includes(e)?a.filter((a=>a!==e)):[...a,e]));var e}}),action:(0,d.jsx)("input",{type:"checkbox",checked:t,onChange:()=>{r((e=>!e))}})})]})}}}]);
//# sourceMappingURL=498.5efed6f5.chunk.js.map