{"version":3,"file":"static/js/577.ed8222b8.chunk.js","mappings":"wKAIA,MA2EA,EA3EcA,KACZ,MAAM,MAAEC,EAAK,gBAAEC,IAAoBC,EAAAA,EAAAA,KAC7BC,GAAWC,EAAAA,EAAAA,OACVC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,KAClCG,EAAcC,IAAmBJ,EAAAA,EAAAA,UAAS,KAEjDK,EAAAA,EAAAA,YAAU,KACJX,GACFE,EAAS,aACX,GACC,CAACF,EAAiBE,IA8BrB,OACEU,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mDAAkDC,UAC/DC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,oCAAmCC,SAAA,EAChDF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,0BAAyBC,SAAC,UAEvCL,IACCG,EAAAA,EAAAA,KAAA,KAAGC,UAAU,oBAAmBC,SAAEL,KAGpCG,EAAAA,EAAAA,KAAA,SACEI,KAAK,OACLC,MAAOb,EACPc,SAAWC,GAAMd,EAAYc,EAAEC,OAAOH,OACtCI,YAAY,WACZR,UAAU,oCAEZD,EAAAA,EAAAA,KAAA,SACEI,KAAK,WACLC,MAAOV,EACPW,SAAWC,GAAMX,EAAYW,EAAEC,OAAOH,OACtCI,YAAY,WACZR,UAAU,oCAEZD,EAAAA,EAAAA,KAAA,UACEU,QApDYC,UAClB,GAAKnB,GAAaG,EAKlB,WACyBiB,MAAM,SAAU,CACrCC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAEzB,WAAUG,aACjCuB,YAAa,aAGFC,IACXhC,IACAW,EAAgB,KAEhBA,EAAgB,yCAEpB,CAAE,MAAOsB,GACPC,QAAQD,MAAM,gBAAiBA,GAC/BtB,EAAgB,uCAClB,MAvBEA,EAAgB,2CAuBlB,EA4BMG,UAAU,4CAA2CC,SACtD,uBAIC,C","sources":["Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from './AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Login = () => {\r\n  const { login, isAuthenticated } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      navigate('/adminPage');\r\n    }\r\n  }, [isAuthenticated, navigate]);\r\n\r\n  const handleLogin = async () => {\r\n    if (!username || !password) {\r\n      setErrorMessage('Please enter both username and password.');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const response = await fetch(`/login`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ username, password }),\r\n        credentials: 'include', \r\n      });\r\n\r\n      if (response.ok) {\r\n        login();  // This will trigger the `useEffect` to navigate\r\n        setErrorMessage('');\r\n      } else {\r\n        setErrorMessage('Invalid credentials, please try again.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Login failed:', error);\r\n      setErrorMessage('An error occurred. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex h-screen w-full justify-center items-center\"> \r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h1 className=\"text-2xl font-bold mb-4\">Login</h1>\r\n        \r\n        {errorMessage && (\r\n          <p className=\"text-red-500 mb-4\">{errorMessage}</p>\r\n        )}\r\n        \r\n        <input\r\n          type=\"text\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          placeholder=\"Username\"\r\n          className=\"border p-2 mb-4 w-full rounded\"\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          placeholder=\"Password\"\r\n          className=\"border p-2 mb-4 w-full rounded\"\r\n        />\r\n        <button\r\n          onClick={handleLogin}\r\n          className=\"bg-blue-500 text-white p-2 rounded w-full\"\r\n        >\r\n          Login as Admin\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":["Login","login","isAuthenticated","useAuth","navigate","useNavigate","username","setUsername","useState","password","setPassword","errorMessage","setErrorMessage","useEffect","_jsx","className","children","_jsxs","type","value","onChange","e","target","placeholder","onClick","async","fetch","method","headers","body","JSON","stringify","credentials","ok","error","console"],"sourceRoot":""}