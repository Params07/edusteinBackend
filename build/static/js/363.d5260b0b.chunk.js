"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[363,638,523,718],{80638:(e,a,t)=>{t.r(a),t.d(a,{default:()=>n});t(65043);var r=t(70579);const n=e=>{let{data:a,component:t,action:n}=e;if(!a||0===a.length)return(0,r.jsx)("p",{children:"No data available"});const s=["Action",...Object.keys(a[0])];return(0,r.jsx)("div",{className:"overflow-x-auto m-4",children:(0,r.jsx)("div",{className:"overflow-y-auto h-[500px] no-scrollbar",children:(0,r.jsxs)("table",{className:"min-w-full border border-collapse ",children:[(0,r.jsx)("thead",{className:"bg-gray-300 border-b w-full sticky top-0 z-5 h-16",children:(0,r.jsx)("tr",{children:s.map((e=>(0,r.jsx)("th",{className:"py-2 px-4 border-b border-gray-300 text-center bg-gray-200",children:"Action"===e?n:e},e)))})}),(0,r.jsx)("tbody",{children:a.map(((e,a)=>(0,r.jsx)("tr",{className:"py-2 px-4 border-b   border-gray-300 text-center",children:s.map((a=>"Action"===a?(0,r.jsx)("td",{className:"py-2 px-4 border-gray-300 border-b text-center",children:t(e)},a):(0,r.jsx)("td",{className:"py-2 px-4 border-gray-300 border-b text-center",children:e[a]},a)))},a)))})]})})})}},19363:(e,a,t)=>{t.r(a),t.d(a,{default:()=>c});var r=t(80638),n=t(23894),s=t(67718),o=t(65043),d=t(90523),l=t(70579);const c=()=>{const[e,a]=(0,o.useState)(""),[t,c]=(0,o.useState)(""),[i,p]=(0,o.useState)(),[u,h]=(0,o.useState)(!1),{post:m,loading:b,error:x}=(0,s.default)("/refundInitiator/refundInitiate"),g=(0,o.useMemo)((()=>""==t.trim()?null:`/refundInitiator/checkData?razorPayID=${e}`),[t]);console.log(g);const{data:y,loading:f,error:j}=(0,d.default)(g);return(0,o.useEffect)((()=>{y&&y.length>0?(h(!1),p(y)):(h(!0),p([]),c(""))}),[y]),(0,o.useEffect)((()=>{p([])}),[j]),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex space-x-4 items-center",children:[(0,l.jsx)("label",{className:"text-lg font-semibold",children:"Payment ID:"}),(0,l.jsx)("input",{type:"text",value:e,onChange:e=>a(e.target.value),required:!0,className:"px-5 py-2 border-2 border-gray-400 outline-none focus:border-2 focus:border-gray-500 rounded-md",placeholder:"Enter the payment ID"}),(0,l.jsx)("button",{className:"px-5 py-2 bg-black hover:bg-gray-700 text-white rounded-md border-2 border-black",onClick:()=>{e&&c(e)},children:"Check Valid"}),u?(0,l.jsx)("p",{}):""]}),f&&(0,l.jsx)("p",{children:"Loading..."}),i&&i.length>0&&(0,l.jsx)(r.default,{data:i,component:()=>(0,l.jsx)("button",{className:"px-5 py-2 text-white bg-green-600 rounded-md",disabled:b,onClick:()=>(async()=>{const e=new FormData;console.log(i[0].paymentid),e.append("name",i[0].name||""),e.append("id",i[0].id||""),e.append("phone",i[0].phone||""),e.append("email",i[0].email||""),e.append("razorPayID",i[0].paymentid||"");try{const a=await m(e);(0,n.y)({success:!0,message:a.message})}catch(j){console.log(j);const a=j.response&&j.response.data&&j.response.data.message?j.response.data.message:"An unknown error occurred";(0,n.y)({success:!1,message:a})}})(),children:"Initiate Refund"}),action:"Action"}),u&&t&&(0,l.jsx)(l.Fragment,{children:"no matching data found"})]})}},90523:(e,a,t)=>{t.r(a),t.d(a,{default:()=>s});var r=t(65043),n=t(86213);const s=e=>{const[a,t]=(0,r.useState)(!1),[s,o]=(0,r.useState)([]),[d,l]=(0,r.useState)(null),c=(0,r.useCallback)((async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e){t(!0),l(null);try{const t=await n.A.get(e,{params:a,withCredentials:!0});o(t.data)}catch(r){l(r)}finally{t(!1)}}}),[e]);return(0,r.useEffect)((()=>{e&&c()}),[c]),{fetchData:c,data:s,loading:a,error:d}}},67718:(e,a,t)=>{t.r(a),t.d(a,{default:()=>s});var r=t(65043),n=t(86213);const s=e=>{const[a,t]=(0,r.useState)(!1),[s,o]=(0,r.useState)(null);return{post:async a=>{t(!0),o(null);try{const r=a instanceof FormData,s=await n.A.post(e,a,{withCredentials:!0,headers:r?{"Content-Type":"multipart/form-data"}:{"Content-Type":"application/json"}});return t(!1),s.data}catch(r){throw o(r),t(!1),r}},loading:a,error:s}}}}]);
//# sourceMappingURL=363.d5260b0b.chunk.js.map