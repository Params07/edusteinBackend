"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[498,960,376,638,776,523],{74960:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});var l=a(65043),s=a(81278),c=a(90523),o=a(70579);const n=e=>{let{selectedBootcamp:t,setSelectedBootcamp:a,isMulti:n=!1,isBootcampActive:d}=e;const[r,i]=(0,l.useState)([]);let u=`/bootcamps/bootcamp?isBootcampActive=${d}`;const{data:p=[]}=(0,c.default)(u);(0,l.useEffect)((()=>{if(p){const e=p.map((e=>({label:e.title,value:e.id})));i(e),!t&&e.length>0&&!n&&a(e[0])}}),[p,t,n,d]);return(0,o.jsx)(s.Ay,{className:"w-64 h-8",name:"bootcamp",value:t,options:r,isMulti:n,placeholder:"Bootcamp Name",onChange:e=>{a(e)}})}},17376:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var l=a(65043),s=a(86213),c=a(23894);const o=e=>{const[t,a]=(0,l.useState)(!1);return{downloadExcelFile:async t=>{try{a(!0);const l=await s.A.post("/createExcel",t,{responseType:"blob"}),c=window.URL.createObjectURL(new Blob([l.data])),o=document.createElement("a");o.href=c,o.setAttribute("download",e+".xlsx"),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(c),a(!1)}catch(l){a(!1),(0,c.y)({success:!1,message:"Error in downloading file"}),console.error("Error downloading file:",l)}},downloading:t}}},80638:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});a(65043);var l=a(70579);const s=e=>{let{data:t,component:a,action:s}=e;if(!t||0===t.length)return(0,l.jsx)("p",{children:"No data available"});const c=["Action",...Object.keys(t[0])];return(0,l.jsx)("div",{className:"overflow-x-auto m-4",children:(0,l.jsx)("div",{className:"overflow-y-auto h-[500px] no-scrollbar",children:(0,l.jsxs)("table",{className:"min-w-full border border-collapse ",children:[(0,l.jsx)("thead",{className:"bg-gray-300 border-b w-full sticky top-0 z-5 h-16",children:(0,l.jsx)("tr",{children:c.map((e=>(0,l.jsx)("th",{className:"py-2 px-4 border-b border-gray-300 text-center bg-gray-200",children:"Action"===e?s:e},e)))})}),(0,l.jsx)("tbody",{children:t.map(((e,t)=>(0,l.jsx)("tr",{className:"py-2 px-4 border-b   border-gray-300 text-center",children:c.map((t=>"Action"===t?(0,l.jsx)("td",{className:"py-2 px-4 border-gray-300 border-b text-center",children:a(e)},t):(0,l.jsx)("td",{className:"py-2 px-4 border-gray-300 border-b text-center",children:e[t]},t)))},t)))})]})})})}},82776:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var l=a(65043),s=a(90523);const c=e=>{const[t,a]=(0,l.useState)(null),c=0!==e?`/bootcamps/bootcampById?id=${e}`:null,{fetchData:o,data:n,loading:d,error:r}=(0,s.default)(c);return(0,l.useEffect)((()=>{c&&o()}),[c,o]),(0,l.useEffect)((()=>{n&&a(n)}),[n]),{bootcampData:t,loading:d,error:r}}},90523:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var l=a(65043),s=a(86213);const c=e=>{const[t,a]=(0,l.useState)(!1),[c,o]=(0,l.useState)([]),[n,d]=(0,l.useState)(null),r=(0,l.useCallback)((async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e){a(!0),d(null);try{const a=await s.A.get(e,{params:t,withCredentials:!0});o(a.data)}catch(l){d(l)}finally{a(!1)}}}),[e]);return(0,l.useEffect)((()=>{e&&r()}),[r]),{fetchData:r,data:c,loading:t,error:n}}},60498:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var l=a(65043),s=a(81278),c=a(90523),o=(a(82776),a(80638)),n=a(17376),d=a(74960),r=a(70579);const i=()=>{const[e,t]=(0,l.useState)([]),[a,i]=(0,l.useState)(!1),[u,p]=(0,l.useState)(null),[m,f]=(0,l.useState)(""),{downloadExcelFile:b,downloading:h}=(0,n.default)("transactiondata"),x=[{label:"Completed",value:"completed"},{label:"Refund",value:"refund"}],[v,y]=(0,l.useState)(x[0]),w=(0,l.useMemo)((()=>`/transaction/${v.value}${"refund"!==v.value?`?bootcamp_id=${(null===u||void 0===u?void 0:u.value)||"all"}`:""}`),[v,u]);(0,l.useEffect)((()=>{w!==m&&f(w)}),[w,m]);const{fetchData:j,data:g}=(0,c.default)(m);(0,l.useEffect)((()=>{if(a&&g){const e=g.map((e=>e.id));t(e)}else t([])}),[a,g]);return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("div",{className:"w-full flex items-center justify-between shadow-md py-6 px-4 h-24 mb-6",children:[(0,r.jsx)("p",{className:"text-xl font-bold",children:"Transaction Data"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)(s.Ay,{className:"w-64",name:"transactionStatus",value:v,options:x,required:!0,placeholder:"Select Status",onChange:e=>y(e)}),(0,r.jsx)(d.default,{selectedBootcamp:u,setSelectedBootcamp:p})]})]}),(0,r.jsx)("div",{className:"pl-5 pb-3",children:0!==e.length&&(0,r.jsx)("div",{className:"flex space-x-4",children:(0,r.jsx)("button",{className:"py-2 text-white bg-black px-5 rounded-xl",onClick:()=>{(()=>{const t=g.filter((t=>e.includes(t.id))).map((e=>e));b(t)})()},children:"Download"})})}),(0,r.jsx)(o.default,{data:g,component:a=>(0,r.jsx)("input",{type:"checkbox",checked:e.includes(a.id),onChange:()=>{return e=a.id,void t((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]));var e}}),action:(0,r.jsx)("input",{type:"checkbox",checked:a,onChange:()=>{i((e=>!e))}})})]})}}}]);
//# sourceMappingURL=498.bf80725d.chunk.js.map